/*
	Equalizer v1.0.1 minified using Google Closure Compiler

	Original by Chris Coyier: http://css-tricks.com/equal-height-blocks-in-rows/
	from an idea by Stephen Akins: http://stephenakins.blogspot.com/2011/01/uniform-div-heights-for-liquid-css-p.html
	with ideas from Mike Avello: https://github.com/madmike1029/matchHeights
	converted into a plugin with some improvements by Rob Garrison: https://github.com/Mottie
*/

(function(b){b.fn.equalizer=function(e){var a={};b("body").data("Equalizer",a);a.$el=b(this);a.options=b.extend({},b.equalizerDefaults,e);a.init=function(){a.options.min=parseInt(a.options.min,10)||0;a.options.max=parseInt(a.options.max,10)||0;a.hasMax=a.options.max===0?!1:!0;a.hasMin=a.options.min===0?!1:!0;a.curRowTop=0;a.useHeight=/^o/.test(a.options.useHeight)?"outerHeight":/^i/.test(a.options.useHeight)?"innerHeight":"height";a.options.resizeable&&(a.$el.wrapInner('<span class="equalizer-inner" style="display:block;margin:0;padding:0;" />'), b(window).resize(function(){clearTimeout(a.throttle);a.throttle=setTimeout(function(){a.equalz()},100)}));a.equalz()};a.equalz=function(){a.curMax=a.options.min;a.$el.removeClass(a.options.overflow).each(function(){var c=b(this),d=a.options.resizeable?c.find("span.equalizer-inner"):c;a.curTop=c.offset().top;if(a.curRowTop!==a.curTop){if(a.hasMax&&a.curMax>a.options.max)a.curMax=a.options.max,a.curRows.addClass(a.options.overflow);a.curRows&&a.curRows.height(a.curMax);a.curMax=d[a.useHeight]();a.curMax= a.hasMin?Math.max(a.options.min,a.curMax):a.curMax;a.curRowTop=a.curTop;a.curRows=c}else a.curMax=Math.max(a.curMax,d[a.useHeight]()),a.curMax=a.hasMax&&a.curMax>a.options.max?a.options.max:a.hasMin&&a.curMax<a.options.min?a.options.min:a.curMax,a.curRows=a.curRows.add(c);a.curRows&&(a.curRows.height(a.curMax),a.hasMax&&a.curMax>=a.options.max&&a.curRows.addClass(a.options.overflow))})};a.init();return this};b.equalizerDefaults={useHeight:"height",resizeable:!0,min:0,max:0,overflow:"overflowed"}})(jQuery);
